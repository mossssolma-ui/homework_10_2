# Виджет банковских операций клиента
   
## Описание:
IT-отдел крупного банка делает новую фичу для личного кабинета клиента. Это виджет, который показывает несколько последних успешных банковских операций клиента.

# Установка:

1. Клонируйте репозиторий:

-*ссылка на клонирование через токен:*
```HTTPS
git clone https://github.com/mossssolma-ui/homework_10_1.git
```
-*ссылка на клонирование через ssh:*
```SSH
git clone git@github.com:mossssolma-ui/homework_10_1.git
```
2. Установите зависимости:
```
poetry install
```
### Запуск тестов:
Для запуска тестов используйте команду:
```
pytest
```
Для генерации HTML-отчета о покрытии кода:
```
poetry run pytest --cov=src --cov-report html
```

3. Реализованные функции:

*В модуле masks.py:*
+ Функция маскировки номера банковской карты: 
`get_mask_card_number`
+ Функция маскировки номера банковского счета: 
`get_mask_account`

*В модуле widget.py:*
+ Функция обработки информации как о картах, так и о счетах.
`mask_account_card`

*В модуле processing.py:*
+ Функция возвращает новый список словарей, содержащий только те словари, у которых ключ 
state соответствует указанному значению.
`filter_by_state`

4. Примеры использования:

+ Функция `get_mask_card_number` принимает на вход номер карты и возвращает ее маску. Номер карты замаскирован и отображается в формате 
`XXXX XX** **** XXXX`, где `X` — это цифра номера. То есть видны первые 6 цифр и последние 4 цифры, остальные символы отображаются звездочками, номер разбит по блокам по 4 цифры, разделенным пробелами. Пример работы функции:
+ + + `7000792289606361     # входной аргумент`
+ + + `7000 79** **** 6361  # выход функции`.


+ Функция `get_mask_account` принимает на вход номер счета и возвращает его маску. Номер счета замаскирован и отображается в формате 
`**XXXX`, где `X` — это цифра номера. То есть видны только последние 4 цифры номера, а перед ними — две звездочки. Пример работы функции:
+ + + `73654108430135874305  # входной аргумент`
+ + + `**4305  # выход функции`.


+ Функция `mask_account_card` принимает один аргумент — строку, содержащую тип и номер карты или счета. И возвращает строку с замаскированным номером.
+ + Пример для карты:
+ + + `Visa Platinum 7000792289606361  # входной аргумент`
+ + + `Visa Platinum 7000 79** **** 6361  # выход функции`
+ + Пример для счета:
+ + + `Счет 73654108430135874305  # входной аргумент`
+ + + `Счет **4305  # выход функции`


+ Функция `filter_by_state` принимает список словарей и опционально значение для ключа 
`state` (по умолчанию `'EXECUTED'`). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ 
`state` соответствует указанному значению. 
+ + Пример выходных данных:
+ + + Выход функции со статусом по умолчанию `'EXECUTED'`
`[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]`

+ + + Выход функции, если вторым аргументов передано `'CANCELED'`
`[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]`


5. Документация и ссылки:
+ [SKYPRO 1](https://my.sky.pro/student-cabinet/stream-lesson/182802/homework-requirements)
+ [SKYPRO 2](https://my.sky.pro/student-cabinet/stream-lesson/182803/homework-requirements)
+ [SKYPRO 3](https://my.sky.pro/student-cabinet/stream-lesson/182804/homework-requirements)
